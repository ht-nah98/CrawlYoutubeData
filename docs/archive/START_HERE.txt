â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                            â•‘
â•‘      YOUTUBE ANALYTICS BACKEND - DATABASE & API SETUP GUIDE               â•‘
â•‘                          START HERE! ğŸ‘‡                                   â•‘
â•‘                                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


ğŸ“Š YOUR SYSTEM STATUS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ“ PostgreSQL 14 - Installed & Running
âœ“ Python 3 - All dependencies installed
âœ“ Backend Code - Complete (15 Python files)
âœ“ API - 35+ endpoints ready
âœ“ Database Schema - 6 tables ready
âœ“ Configuration - .env file ready

Just need: Configure PostgreSQL authentication!


ğŸš€ QUICK START (3 STEPS - 5 MINUTES)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

STEP 1: Configure PostgreSQL Authentication
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Choose ONE option:

â”Œâ”€ OPTION A: Enable Trust Auth (Easiest - Recommended) â”€â”
â”‚                                                         â”‚
â”‚ $ sudo nano /etc/postgresql/14/main/pg_hba.conf       â”‚
â”‚                                                         â”‚
â”‚ Find this line:                                         â”‚
â”‚   local   all   all                              peer   â”‚
â”‚                                                         â”‚
â”‚ Change to:                                              â”‚
â”‚   local   all   all                             trust   â”‚
â”‚                                                         â”‚
â”‚ Save: Ctrl+X, press Y, then Enter                      â”‚
â”‚                                                         â”‚
â”‚ $ sudo systemctl restart postgresql                     â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ OPTION B: Set PostgreSQL Password â”€â”
â”‚                                       â”‚
â”‚ $ sudo -u postgres psql               â”‚
â”‚                                       â”‚
â”‚ In psql, type:                        â”‚
â”‚ ALTER USER postgres                   â”‚
â”‚   WITH PASSWORD 'secure_password';   â”‚
â”‚ \q                                    â”‚
â”‚                                       â”‚
â”‚ Edit .env file:                       â”‚
â”‚ $ nano .env                           â”‚
â”‚ Change: DB_PASSWORD=secure_password   â”‚
â”‚                                       â”‚
â”‚ $ sudo systemctl restart postgresql   â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš¡ STEP 2: Create Database Tables
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

$ cd /home/user/Downloads/craw_data_ytb
$ python3 init_db.py

Expected output:
  âœ“ Connected to PostgreSQL
  âœ“ Database tables created successfully!

  Created tables:
     â€¢ accounts
     â€¢ channels
     â€¢ videos
     â€¢ video_analytics
     â€¢ traffic_sources
     â€¢ scraping_history


ğŸ¯ STEP 3: Start the API Server
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

$ python -m uvicorn src.api.main:app --reload --port 8000

Expected output:
  INFO:     Uvicorn running on http://0.0.0.0:8000
  INFO:     Application startup complete
  âœ“ Database tables created successfully
  âœ“ Database connection healthy


ğŸ“± OPEN IN YOUR BROWSER
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

After step 3, open one of these:

  â†’ http://localhost:8000/docs        (Interactive Swagger UI) â­ BEST
  â†’ http://localhost:8000/redoc       (ReDoc alternative)
  â†’ http://localhost:8000/health      (Health check)


ğŸ® TRY IT IN THE BROWSER
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

In the Swagger UI (http://localhost:8000/docs):

1. Create an Account
   - Click "POST /accounts"
   - Enter: {"name": "MyAccount"}
   - Click "Execute"

2. Create Videos
   - Click "POST /videos/bulk"
   - Enter video IDs
   - Click "Execute"

3. Add Analytics
   - Click "POST /analytics"
   - Enter analytics data
   - Click "Execute"

4. Query Your Data
   - Click "GET /analytics"
   - Click "Execute"
   - See your data!

5. Get Statistics
   - Click "GET /analytics/account/1/stats"
   - See totals and averages!


ğŸ“š DOCUMENTATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Read This For...                    â”‚ File                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Detailed setup guide                â”‚ GET_STARTED_NOW.md               â”‚
â”‚ PostgreSQL config help              â”‚ MANUAL_DATABASE_SETUP.md         â”‚
â”‚ API reference & examples            â”‚ API_QUICKSTART.md                â”‚
â”‚ Full documentation                  â”‚ docs/BACKEND_SETUP.md            â”‚
â”‚ Developer guide                     â”‚ docs/DEVELOPER_GUIDE.md          â”‚
â”‚ Complete overview                   â”‚ DATABASE_SETUP_COMPLETE.md       â”‚
â”‚ Implementation details              â”‚ BACKEND_IMPLEMENTATION_SUMMARY.mdâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â“ TROUBLESHOOTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Error: "fe_sendauth: no password supplied"
â†’ PostgreSQL auth not configured. Go back to STEP 1.

Error: "Cannot connect to server"
â†’ PostgreSQL not running. Try:
  $ sudo systemctl restart postgresql

Error: "Database youtube_analytics not found"
â†’ Run: python3 init_db.py (Step 2)

Error: "Port 8000 already in use"
â†’ Use different port:
  $ python -m uvicorn src.api.main:app --reload --port 8001

Error: "Module not found (fastapi, sqlalchemy, etc)"
â†’ Install dependencies:
  $ pip install -r requirements.txt


ğŸ’¾ OPTIONAL: MIGRATE EXISTING DATA
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

If you have existing analytics_results_*.json files:

$ python -m src.database.migrate_json_to_db

This will:
  âœ“ Find all JSON files
  âœ“ Create database records
  âœ“ Prevent duplicates
  âœ“ Show migration report


ğŸ”Œ INTEGRATE WITH YOUR SCRAPER
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Once API is running, your scraper can save data:

  from src.database.writers import db_writer

  # Save analytics from scraper
  analytics = db_writer.save_analytics(
      video_id="dQw4w9WgXcQ",
      account_name="MyAccount",
      analytics_data={...}
  )

See src/database/writers.py for all available methods.


ğŸ¯ WHAT'S INCLUDED
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“¦ Database Layer
   â€¢ PostgreSQL schema (6 tables)
   â€¢ SQLAlchemy ORM models
   â€¢ Connection pooling
   â€¢ Data migration tools

ğŸ“¦ REST API (35+ endpoints)
   â€¢ Account management (5)
   â€¢ Channel management (5)
   â€¢ Video management (6)
   â€¢ Analytics operations (8)
   â€¢ System endpoints (2)
   â€¢ Bulk operations
   â€¢ Advanced filtering
   â€¢ Statistics aggregation

ğŸ“¦ Integration Tools
   â€¢ ScraperDatabaseWriter (for your scraper)
   â€¢ Migration script (for JSON files)
   â€¢ Database utilities
   â€¢ Bulk helpers

ğŸ“¦ Documentation
   â€¢ 5 quick start guides
   â€¢ 2 detailed reference manuals
   â€¢ Interactive API docs
   â€¢ Code examples


âœ… WORKFLOW EXAMPLE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Your Application Flow:

  YouTube Studio
       â†“
    Scraper
       â†“ (now saves to database)
  PostgreSQL Database
       â†“
    REST API (localhost:8000)
       â†“
   Your GUI / Browser / App


ğŸ‰ YOU'RE READY!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Everything is configured and ready. Just:

  1. Configure PostgreSQL (STEP 1) - 2 minutes
  2. Create database (STEP 2) - 1 minute
  3. Start API (STEP 3) - 1 minute
  4. Open http://localhost:8000/docs - Done!

Total time: ~5 minutes

Questions? Check GET_STARTED_NOW.md for detailed help.

Let's go! ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
For the latest help, open: GET_STARTED_NOW.md or MANUAL_DATABASE_SETUP.md
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
